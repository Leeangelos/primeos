<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Sign Up — PrimeOS</title>
    <meta name="description" content="Create your free PrimeOS account. Full access to the operating system for independent pizzeria operators." />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta property="og:title" content="Sign Up — PrimeOS" />
    <meta property="og:description" content="Create your free PrimeOS account. Full access to the operating system for independent pizzeria operators." />
    <meta property="og:type" content="website" />
    <link rel="canonical" href="https://getprimeos.com/signup" />
    <style>
      :root {
        --bg: #020617;
        --bg-card: #0b1120;
        --border-subtle: #374151;
        --text: #f9fafb;
        --text-subtle: #9ca3af;
        --text-muted: #6b7280;
        --accent: #e65100;
      }
      * { box-sizing: border-box; }
      body {
        margin: 0;
        min-height: 100vh;
        font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
        background-color: var(--bg);
        color: var(--text);
      }
      .page { min-height: 100vh; display: flex; flex-direction: column; }
      .container { max-width: 28rem; margin: 0 auto; padding: 0 1rem; width: 100%; }
      header { border-bottom: 1px solid rgba(24,24,27,0.75); }
      .header-inner {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 1rem 0;
      }
      .brand { font-size: 0.875rem; font-weight: 600; }
      .header-links { display: flex; align-items: center; gap: 0.75rem; }
      .header-links a { font-size: 0.875rem; color: var(--text-subtle); text-decoration: none; }
      .header-links a:hover { color: var(--text); }
      .btn-signup {
        background-color: var(--accent);
        color: #fff;
        padding: 0.5rem 1rem;
        border-radius: 0.5rem;
        font-weight: 600;
        font-size: 0.875rem;
        text-decoration: none;
      }
      .btn-signup:hover { background-color: #f3731a; color: #fff; }
      main { padding: 2.5rem 0 4rem; flex: 1; }
      .hero-title { font-size: 1.875rem; font-weight: 700; margin: 0 0 0.5rem; }
      .hero-subtitle { font-size: 1rem; color: var(--text-subtle); margin: 0 0 1.5rem; }
      .form-card {
        background-color: var(--bg-card);
        border: 1px solid var(--border-subtle);
        border-radius: 1.25rem;
        padding: 1.5rem;
      }
      .form-grid { display: flex; flex-direction: column; gap: 1rem; }
      .field-label { display: block; font-size: 0.8rem; color: var(--text-subtle); margin-bottom: 0.25rem; }
      .field-input, .field-select {
        width: 100%;
        border-radius: 0.75rem;
        border: 1px solid var(--border-subtle);
        background-color: #111827;
        color: var(--text);
        padding: 0.75rem 1rem;
        font-size: 0.9rem;
        outline: none;
      }
      .field-input:focus, .field-select:focus {
        border-color: var(--accent);
        box-shadow: 0 0 0 1px rgba(230, 81, 0, 0.7);
      }
      .field-input::placeholder { color: var(--text-muted); }
      .field-input-invite { border-left: 4px solid var(--accent); }
      .field-hint { font-size: 0.75rem; color: var(--text-muted); margin-top: 0.25rem; }
      .btn-submit {
        width: 100%;
        padding: 1rem;
        border-radius: 0.75rem;
        font-size: 1.125rem;
        font-weight: 700;
        background-color: var(--accent);
        color: #fff;
        border: none;
        cursor: pointer;
        margin-top: 0.5rem;
      }
      .btn-submit:hover:not(:disabled) { background-color: #f3731a; }
      .btn-submit:disabled { opacity: 0.7; cursor: not-allowed; }
      .form-footer {
        margin-top: 1rem;
        font-size: 0.75rem;
        color: var(--text-muted);
      }
      .form-footer a { color: #93c5fd; text-decoration: underline; }
      .status-error { margin-top: 1rem; font-size: 0.875rem; color: #f97373; }
      .footer {
        border-top: 1px solid var(--border-subtle);
        padding-top: 2rem;
        margin-top: auto;
        text-align: center;
        font-size: 0.875rem;
        color: var(--text-muted);
      }
      .footer a { color: var(--text-muted); }
      .footer a:hover { color: var(--text-subtle); text-decoration: underline; }
    </style>
  </head>
  <body>
    <div class="page">
      <header>
        <div class="container header-inner">
          <a href="/welcome" class="brand">PrimeOS</a>
          <div class="header-links">
            <a href="/login">Already have an account? Log In</a>
          </div>
        </div>
      </header>
      <main>
        <div class="container">
          <h1 class="hero-title">Get Started Free</h1>
          <p class="hero-subtitle">Invitation only. Full access. No credit card.</p>
          <div class="form-card">
            <form id="signup-form" novalidate>
              <div class="form-grid">
                <div class="field">
                  <label class="field-label" for="invite_code">Invite Code *</label>
                  <input id="invite_code" name="invite_code" type="text" required class="field-input field-input-invite" placeholder="Enter your invite code" autocomplete="off" style="text-transform:uppercase;" />
                  <p class="field-hint">PrimeOS is currently available by invitation only through select food distributors.</p>
                </div>
                <div class="field">
                  <label class="field-label" for="name">Your Name *</label>
                  <input id="name" name="name" type="text" required class="field-input" autocomplete="name" />
                </div>
                <div class="field">
                  <label class="field-label" for="email">Email *</label>
                  <input id="email" name="email" type="email" required class="field-input" autocomplete="email" />
                </div>
                <div class="field">
                  <label class="field-label" for="password">Password * <span style="color:var(--text-muted)">(min 8 characters)</span></label>
                  <input id="password" name="password" type="password" required minlength="8" class="field-input" autocomplete="new-password" />
                </div>
                <div class="field">
                  <label class="field-label" for="store_name">Store Name *</label>
                  <input id="store_name" name="store_name" type="text" required class="field-input" placeholder="e.g., Joe's Pizza" autocomplete="organization" />
                </div>
                <div class="field">
                  <label class="field-label" for="city_state">City &amp; State *</label>
                  <input id="city_state" name="city_state" type="text" required class="field-input" placeholder="e.g., Kent, OH" />
                </div>
                <div class="field">
                  <label class="field-label" for="pos_system">POS System (optional)</label>
                  <select id="pos_system" name="pos_system" class="field-select">
                    <option value="">Select your POS (optional)</option>
                    <option value="Toast">Toast</option>
                    <option value="Square">Square</option>
                    <option value="Clover">Clover</option>
                    <option value="SpotOn">SpotOn</option>
                    <option value="Lightspeed">Lightspeed</option>
                    <option value="Revel">Revel</option>
                    <option value="Other">Other</option>
                    <option value="I don't have one">I don't have one</option>
                  </select>
                </div>
              </div>
              <button type="submit" id="signup-submit" class="btn-submit">Create My Account</button>
              <p id="signup-error" class="status-error" style="display:none;" aria-live="polite"></p>
              <p class="form-footer">
                By signing up, you agree to our <a href="/terms" target="_blank">Terms of Service</a> and <a href="/privacy" target="_blank">Privacy Policy</a>.
              </p>
            </form>
          </div>
        </div>
      </main>
      <footer class="footer">
        <p>© 2026 Ambition &amp; Legacy LLC · Kent, Ohio</p>
        <p style="margin-top:0.5rem;">
          <a href="/terms">Terms</a> · <a href="/privacy">Privacy</a>
        </p>
      </footer>
    </div>
    <script>
      (function() {
        var form = document.getElementById("signup-form");
        var submitBtn = document.getElementById("signup-submit");
        var errorEl = document.getElementById("signup-error");
        if (!form || !submitBtn || !errorEl) return;

        form.addEventListener("submit", function(e) {
          e.preventDefault();
          var invite_code = ((document.getElementById("invite_code") || {}).value || "").trim().toUpperCase();
          var name = (document.getElementById("name") || {}).value.trim();
          var email = (document.getElementById("email") || {}).value.trim();
          var password = (document.getElementById("password") || {}).value;
          var store_name = (document.getElementById("store_name") || {}).value.trim();
          var city_state = (document.getElementById("city_state") || {}).value.trim();
          var pos_system = (document.getElementById("pos_system") || {}).value || "";

          errorEl.style.display = "none";
          errorEl.textContent = "";

          if (!invite_code) {
            errorEl.textContent = "Please enter your invite code.";
            errorEl.style.display = "block";
            return;
          }
          if (!name || !email || !password || !store_name || !city_state) {
            errorEl.textContent = "Please fill in all required fields.";
            errorEl.style.display = "block";
            return;
          }
          if (password.length < 8) {
            errorEl.textContent = "Password must be at least 8 characters.";
            errorEl.style.display = "block";
            return;
          }

          submitBtn.disabled = true;
          submitBtn.textContent = "Creating your account...";

          fetch("/api/signup", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ invite_code, name, email, password, store_name, city_state, pos_system })
          })
            .then(function(res) { return res.json().then(function(data) { return { ok: res.ok, data: data }; }); })
            .then(function(result) {
              if (result.ok && result.data.success) {
                window.location.href = "/login?welcome=true";
                return;
              }
              errorEl.textContent = (result.data && result.data.error) || "Something went wrong. Please try again.";
              errorEl.style.display = "block";
            })
            .catch(function() {
              errorEl.textContent = "Something went wrong. Please try again.";
              errorEl.style.display = "block";
            })
            .finally(function() {
              submitBtn.disabled = false;
              submitBtn.textContent = "Create My Account";
            });
        });
      })();
    </script>
  </body>
</html>
